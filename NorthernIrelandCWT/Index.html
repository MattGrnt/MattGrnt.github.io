<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Matt Grant">

<title>HSCT Data Differences</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="Data differences_files/libs/clipboard/clipboard.min.js"></script>
<script src="Data differences_files/libs/quarto-html/quarto.js"></script>
<script src="Data differences_files/libs/quarto-html/popper.min.js"></script>
<script src="Data differences_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Data differences_files/libs/quarto-html/anchor.min.js"></script>
<link href="Data differences_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Data differences_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Data differences_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Data differences_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Data differences_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="Data differences_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="Data differences_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="Data differences_files/libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="Data differences_files/libs/typedarray-0.1/typedarray.min.js"></script>
<script src="Data differences_files/libs/jquery-3.5.1/jquery.min.js"></script>
<link href="Data differences_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="Data differences_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="Data differences_files/libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="Data differences_files/libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">HSCT Data Differences</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Matt Grant </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<div class="cell">
<details>
<summary>Libraries used</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(zoo)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Data used</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>mar24 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Northern Ireland Cancer Waiting Times-JAN-MAR-24.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">date =</span> quarter)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>jun24 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Northern Ireland Cancer Waiting Times-APR-JUN-24.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">date =</span> quarter)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>dec23 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Northern Ireland Cancer Waiting Times-OCT-DEC-23.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">date =</span> quarter)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>sep23 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Northern Ireland Cancer Waiting Times-JUL-SEP-23.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">date =</span> quarter)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>sep22 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Northern Ireland Cancer Waiting Times-JUL-SEP-22.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">date =</span> quarter)</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>jun24Count <span class="ot">&lt;-</span> jun24 <span class="sc">%&gt;%</span> </span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date, hsc_trust, total_number_treated) </span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>mar24Count <span class="ot">&lt;-</span> mar24 <span class="sc">%&gt;%</span> </span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date, hsc_trust, total_number_treated) </span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>dec23Count <span class="ot">&lt;-</span> dec23 <span class="sc">%&gt;%</span> </span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date, hsc_trust, total_number_treated) </span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>sep23Count <span class="ot">&lt;-</span> sep23 <span class="sc">%&gt;%</span> </span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date, hsc_trust, total_number_treated) </span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>sep22Count <span class="ot">&lt;-</span> sep22 <span class="sc">%&gt;%</span> </span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date, hsc_trust, total_number_treated) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>While cleaning some data for the local stats dashboard, I noticed that recent South Eastern numbers were the same for Belfast and South Eastern HSCT prior to September 2023. In this script I’m going to explore the numbers and see what is/isn’t likely to be reliable.</p>
<section id="count" class="level2">
<h2 class="anchored" data-anchor-id="count">Count</h2>
<section id="belfast" class="level3">
<h3 class="anchored" data-anchor-id="belfast">Belfast</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>belfastCount <span class="ot">&lt;-</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(mar24Count <span class="sc">%&gt;%</span> </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>              <span class="fu">filter</span>(hsc_trust <span class="sc">==</span> <span class="st">"Belfast"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>              <span class="fu">rename</span>(<span class="at">mar24_count =</span> total_number_treated),</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>            dec23Count <span class="sc">%&gt;%</span> </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>              <span class="fu">filter</span>(hsc_trust <span class="sc">==</span> <span class="st">"Belfast"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>              <span class="fu">rename</span>(<span class="at">dec23_count =</span> total_number_treated),</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">'date'</span>, <span class="st">'hsc_trust'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(sep23Count <span class="sc">%&gt;%</span> <span class="fu">filter</span>(hsc_trust <span class="sc">==</span> <span class="st">"Belfast"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>              <span class="fu">rename</span>(<span class="at">sep23_count =</span> total_number_treated), </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">'date'</span>, <span class="st">'hsc_trust'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(sep22Count <span class="sc">%&gt;%</span> <span class="fu">filter</span>(hsc_trust <span class="sc">==</span> <span class="st">"Belfast"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>              <span class="fu">rename</span>(<span class="at">sep22_count =</span> total_number_treated), </span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">'date'</span>, <span class="st">'hsc_trust'</span>)) </span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>belfastCount <span class="sc">%&gt;%</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>hsc_trust) <span class="sc">%&gt;%</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">!</span>date,</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"source"</span>, <span class="st">"other"</span>),</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_sep =</span> <span class="st">"_"</span>,</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"count"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>other) <span class="sc">%&gt;%</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.yearmon</span>(date)) <span class="sc">%&gt;%</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>date,</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> <span class="sc">~</span>count,</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>            <span class="at">split =</span> <span class="sc">~</span>source,</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>             <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">showlegend =</span> <span class="cn">TRUE</span>, <span class="co">#change to true if not using annotations</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">"Count"</span>, <span class="co">#change to correct title</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>      <span class="at">zeroline =</span> F,</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>      <span class="at">showgrid =</span> F,</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>      <span class="at">titlefont =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Poppins"</span>, <span class="at">color =</span> <span class="st">"#000000"</span>, <span class="at">size =</span> <span class="dv">18</span>),</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>      <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Poppins"</span>, <span class="at">color=</span> <span class="st">"#000000"</span>, <span class="at">size=</span> <span class="dv">14</span>)),</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">""</span>, <span class="co">#change to correct title</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>      <span class="at">zeroline =</span> F,</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>      <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Poppins"</span>, <span class="at">color=</span> <span class="st">"#000000"</span>, <span class="at">size=</span> <span class="dv">14</span>),</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>      <span class="at">titlefont =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Poppins"</span>, <span class="at">color =</span> <span class="st">"#000000"</span>, <span class="at">size =</span> <span class="dv">18</span>)), <span class="co">#set these values to your x axis values</span></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Monthly count for 62DW in Belfast"</span>, <span class="co">#change to correct title</span></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>                 <span class="at">font =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Progress Medium"</span>, <span class="at">color =</span> <span class="st">"#000000"</span>,<span class="at">size =</span> <span class="dv">28</span>),</span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>                 <span class="at">x =</span> <span class="fl">0.01</span>),</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">margin =</span> <span class="fu">list</span>(<span class="at">t =</span> <span class="dv">75</span>) </span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-12f5d193d7432231269c" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-12f5d193d7432231269c">{"x":{"visdat":{"5a2048b53b05":["function () ","plotlyVisDat"]},"cur_data":"5a2048b53b05","attrs":{"5a2048b53b05":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"split":{},"type":"scatter","mode":"lines","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":75,"r":10},"showlegend":true,"yaxis":{"domain":[0,1],"automargin":true,"title":"Count","zeroline":false,"showgrid":false,"titlefont":{"family":"Poppins","color":"#000000","size":18},"tickfont":{"family":"Poppins","color":"#000000","size":14}},"xaxis":{"domain":[0,1],"automargin":true,"title":"","zeroline":false,"tickfont":{"family":"Poppins","color":"#000000","size":14},"titlefont":{"family":"Poppins","color":"#000000","size":18}},"title":{"text":"Monthly count for 62DW in Belfast","font":{"family":"Progress Medium","color":"#000000","size":28},"x":0.01},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2023.9166666666667,2023.6666666666667,2023.4166666666667,2023.1666666666667,2022.9166666666667,2022.6666666666667,2022.4166666666667,2022.1666666666667,2021.9166666666667,2021.6666666666667,2021.4166666666667,2021.1666666666667,2020.9166666666667,2020.6666666666667,2020.4166666666667,2020.1666666666667,2019.9166666666667,2019.6666666666667,2019.4166666666667,2019.1666666666667,2018.9166666666667,2018.6666666666667,2018.4166666666667,2018.1666666666667,2017.9166666666667,2017.6666666666667,2017.4166666666667,2017.1666666666667,2016.9166666666667,2016.6666666666667,2016.4166666666667,2016.1666666666667,2015.9166666666667,2015.6666666666667,2015.4166666666667,2015.1666666666667,2014.9166666666667,2014.6666666666667,2014.4166666666667,2014.1666666666667,2013.9166666666667,2013.6666666666667,2013.4166666666667,2013.1666666666667,2012.9166666666667,2012.6666666666667,2012.4166666666667,2012.1666666666667,2011.9166666666667,2011.6666666666667,2011.4166666666667,2011.1666666666667,2010.9166666666667,2010.6666666666667,2010.4166666666667,2010.1666666666667,2009.9166666666667,2009.6666666666667,2009.4166666666667,2009.1666666666667,2008.9166666666667,2008.6666666666667,2008.4166666666667],"y":[386,383.5,378,407,374,380.5,394.5,385,337,321,362.5,344.5,329,314,292,352,368.5,307,288.5,337,352.5,347.5,331.5,303.5,343,305,309.5,336.5,340.5,334,319,302.5,321.5,335,309.5,278,282,292,307,263.5,292,302.5,261,264.5,279,265,248,268.5,265,238.5,241,220.5,223,229.5,217,177.5,173,236,210,204.5,176,136.5,155.5],"type":"scatter","mode":"lines","name":"dec23","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2024.1666666666667,2023.9166666666667,2023.6666666666667,2023.4166666666667,2023.1666666666667,2022.9166666666667,2022.6666666666667,2022.4166666666667,2022.1666666666667,2021.9166666666667,2021.6666666666667,2021.4166666666667,2021.1666666666667,2020.9166666666667,2020.6666666666667,2020.4166666666667,2020.1666666666667,2019.9166666666667,2019.6666666666667,2019.4166666666667,2019.1666666666667,2018.9166666666667,2018.6666666666667,2018.4166666666667,2018.1666666666667,2017.9166666666667,2017.6666666666667,2017.4166666666667,2017.1666666666667,2016.9166666666667,2016.6666666666667,2016.4166666666667,2016.1666666666667,2015.9166666666667,2015.6666666666667,2015.4166666666667,2015.1666666666667,2014.9166666666667,2014.6666666666667,2014.4166666666667,2014.1666666666667,2013.9166666666667,2013.6666666666667,2013.4166666666667,2013.1666666666667,2012.9166666666667,2012.6666666666667,2012.4166666666667,2012.1666666666667,2011.9166666666667,2011.6666666666667,2011.4166666666667,2011.1666666666667,2010.9166666666667,2010.6666666666667,2010.4166666666667,2010.1666666666667,2009.9166666666667,2009.6666666666667,2009.4166666666667,2009.1666666666667,2008.9166666666667,2008.6666666666667,2008.4166666666667],"y":[408.5,386,390,384.5,415,384,388.5,394.5,385,337,321,362.5,344.5,329,314,292,352,368.5,307,288.5,337,352.5,347.5,331.5,303.5,343,305,309.5,336.5,340.5,334,319,302.5,321.5,335,309.5,278,282,292,307,263.5,292,302.5,261,264.5,279,265,248,268.5,265,238.5,241,220.5,223,229.5,217,177.5,173,236,210,204.5,176,136.5,155.5],"type":"scatter","mode":"lines","name":"mar24","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2022.6666666666667,2022.4166666666667,2022.1666666666667,2021.9166666666667,2021.6666666666667,2021.4166666666667,2021.1666666666667,2020.9166666666667,2020.6666666666667,2020.4166666666667,2020.1666666666667,2019.9166666666667,2019.6666666666667,2019.4166666666667,2019.1666666666667,2018.9166666666667,2018.6666666666667,2018.4166666666667,2018.1666666666667,2017.9166666666667,2017.6666666666667,2017.4166666666667,2017.1666666666667,2016.9166666666667,2016.6666666666667,2016.4166666666667,2016.1666666666667,2015.9166666666667,2015.6666666666667,2015.4166666666667,2015.1666666666667,2014.9166666666667,2014.6666666666667,2014.4166666666667,2014.1666666666667,2013.9166666666667,2013.6666666666667,2013.4166666666667,2013.1666666666667,2012.9166666666667,2012.6666666666667,2012.4166666666667,2012.1666666666667,2011.9166666666667,2011.6666666666667,2011.4166666666667,2011.1666666666667,2010.9166666666667,2010.6666666666667,2010.4166666666667,2010.1666666666667,2009.9166666666667,2009.6666666666667,2009.4166666666667,2009.1666666666667,2008.9166666666667,2008.6666666666667,2008.4166666666667],"y":[388.5,394.5,385,337,321,362.5,344.5,329,314,292,352,368.5,307,288.5,337,352.5,347.5,331.5,303.5,343,305,309.5,336.5,340.5,334,319,302.5,321.5,335,309.5,278,282,292,307,263.5,292,302.5,261,264.5,279,265,248,268.5,265,238.5,241,220.5,223,229.5,217,177.5,173,236,210,204.5,176,136.5,155.5],"type":"scatter","mode":"lines","name":"sep22","marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"line":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2023.6666666666667,2023.4166666666667,2023.1666666666667,2022.9166666666667,2022.6666666666667,2022.4166666666667,2022.1666666666667,2021.9166666666667,2021.6666666666667,2021.4166666666667,2021.1666666666667,2020.9166666666667,2020.6666666666667,2020.4166666666667,2020.1666666666667,2019.9166666666667,2019.6666666666667,2019.4166666666667,2019.1666666666667,2018.9166666666667,2018.6666666666667,2018.4166666666667,2018.1666666666667,2017.9166666666667,2017.6666666666667,2017.4166666666667,2017.1666666666667,2016.9166666666667,2016.6666666666667,2016.4166666666667,2016.1666666666667,2015.9166666666667,2015.6666666666667,2015.4166666666667,2015.1666666666667,2014.9166666666667,2014.6666666666667,2014.4166666666667,2014.1666666666667,2013.9166666666667,2013.6666666666667,2013.4166666666667,2013.1666666666667,2012.9166666666667,2012.6666666666667,2012.4166666666667,2012.1666666666667,2011.9166666666667,2011.6666666666667,2011.4166666666667,2011.1666666666667,2010.9166666666667,2010.6666666666667,2010.4166666666667,2010.1666666666667,2009.9166666666667,2009.6666666666667,2009.4166666666667,2009.1666666666667,2008.9166666666667,2008.6666666666667,2008.4166666666667],"y":[390,384.5,415,384,388.5,394.5,385,337,321,362.5,344.5,329,314,292,352,368.5,307,288.5,337,352.5,347.5,331.5,303.5,343,305,309.5,336.5,340.5,334,319,302.5,321.5,335,309.5,278,282,292,307,263.5,292,302.5,261,264.5,279,265,248,268.5,265,238.5,241,220.5,223,229.5,217,177.5,173,236,210,204.5,176,136.5,155.5],"type":"scatter","mode":"lines","name":"sep23","marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"line":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>So for some reason the December dataset for Belfast is not reliable.</p>
</section>
<section id="south-eastern" class="level3">
<h3 class="anchored" data-anchor-id="south-eastern">South Eastern</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>southEasternCount <span class="ot">&lt;-</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(jun24Count <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>              <span class="fu">filter</span>(hsc_trust <span class="sc">==</span> <span class="st">"South Eastern"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>              <span class="fu">rename</span>(<span class="at">jun24_count =</span> total_number_treated),</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>            mar24Count <span class="sc">%&gt;%</span> </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>              <span class="fu">filter</span>(hsc_trust <span class="sc">==</span> <span class="st">"South Eastern"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>              <span class="fu">rename</span>(<span class="at">mar24_count =</span> total_number_treated),</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">'date'</span>, <span class="st">'hsc_trust'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(dec23Count <span class="sc">%&gt;%</span> </span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>              <span class="fu">filter</span>(hsc_trust <span class="sc">==</span> <span class="st">"South Eastern"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>              <span class="fu">rename</span>(<span class="at">dec23_count =</span> total_number_treated)) <span class="sc">%&gt;%</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(sep23Count <span class="sc">%&gt;%</span> </span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>              <span class="fu">filter</span>(hsc_trust <span class="sc">==</span> <span class="st">"South Eastern"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>              <span class="fu">rename</span>(<span class="at">sep23_count =</span> total_number_treated), </span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">'date'</span>, <span class="st">'hsc_trust'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(sep22Count <span class="sc">%&gt;%</span> </span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>              <span class="fu">filter</span>(hsc_trust <span class="sc">==</span> <span class="st">"South Eastern"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>              <span class="fu">rename</span>(<span class="at">sep22_count =</span> total_number_treated), </span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">'date'</span>, <span class="st">'hsc_trust'</span>)) </span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>southEasternCount <span class="sc">%&gt;%</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>hsc_trust) <span class="sc">%&gt;%</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">!</span>date,</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"source"</span>, <span class="st">"other"</span>),</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_sep =</span> <span class="st">"_"</span>,</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"count"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>other) <span class="sc">%&gt;%</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.yearmon</span>(date)) <span class="sc">%&gt;%</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>date,</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> <span class="sc">~</span>count,</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>            <span class="at">split =</span> <span class="sc">~</span>source,</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>             <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">showlegend =</span> <span class="cn">TRUE</span>, <span class="co">#change to true if not using annotations</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(</span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">"Count"</span>, <span class="co">#change to correct title</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>      <span class="at">zeroline =</span> F,</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>      <span class="at">showgrid =</span> F,</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>      <span class="at">titlefont =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Poppins"</span>, <span class="at">color =</span> <span class="st">"#000000"</span>, <span class="at">size =</span> <span class="dv">18</span>),</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>      <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Poppins"</span>, <span class="at">color=</span> <span class="st">"#000000"</span>, <span class="at">size=</span> <span class="dv">14</span>)),</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(</span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">""</span>, <span class="co">#change to correct title</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>      <span class="at">zeroline =</span> F,</span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>      <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Poppins"</span>, <span class="at">color=</span> <span class="st">"#000000"</span>, <span class="at">size=</span> <span class="dv">14</span>),</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>      <span class="at">titlefont =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Poppins"</span>, <span class="at">color =</span> <span class="st">"#000000"</span>, <span class="at">size =</span> <span class="dv">18</span>)), <span class="co">#set these values to your x axis values</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Monthly count for 62DW in South Eastern"</span>, <span class="co">#change to correct title</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>                 <span class="at">font =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Progress Medium"</span>, <span class="at">color =</span> <span class="st">"#000000"</span>,<span class="at">size =</span> <span class="dv">28</span>),</span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>                 <span class="at">x =</span> <span class="fl">0.01</span>),</span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">margin =</span> <span class="fu">list</span>(<span class="at">t =</span> <span class="dv">75</span>) </span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-b9b99f6aa4a6404d4ec1" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-b9b99f6aa4a6404d4ec1">{"x":{"visdat":{"5a2033566837":["function () ","plotlyVisDat"]},"cur_data":"5a2033566837","attrs":{"5a2033566837":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"split":{},"type":"scatter","mode":"lines","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":75,"r":10},"showlegend":true,"yaxis":{"domain":[0,1],"automargin":true,"title":"Count","zeroline":false,"showgrid":false,"titlefont":{"family":"Poppins","color":"#000000","size":18},"tickfont":{"family":"Poppins","color":"#000000","size":14}},"xaxis":{"domain":[0,1],"automargin":true,"title":"","zeroline":false,"tickfont":{"family":"Poppins","color":"#000000","size":14},"titlefont":{"family":"Poppins","color":"#000000","size":18}},"title":{"text":"Monthly count for 62DW in South Eastern","font":{"family":"Progress Medium","color":"#000000","size":28},"x":0.01},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2023.9166666666667,2023.6666666666667,2023.4166666666667,2023.1666666666667,2022.9166666666667,2022.6666666666667],"y":[36.5,42.5,41.5,47.5,36,38.5],"type":"scatter","mode":"lines","name":"dec23","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2024.4166666666667,2024.1666666666667,2023.9166666666667,2023.6666666666667,2023.4166666666667,2023.1666666666667,2022.9166666666667,2022.6666666666667,2022.4166666666667,2022.1666666666667,2021.9166666666667,2021.6666666666667,2021.4166666666667,2021.1666666666667,2020.9166666666667,2020.6666666666667,2020.4166666666667,2020.1666666666667,2019.9166666666667,2019.6666666666667,2019.4166666666667,2019.1666666666667,2018.9166666666667,2018.6666666666667,2018.4166666666667,2018.1666666666667,2017.9166666666667,2017.6666666666667,2017.4166666666667,2017.1666666666667,2016.9166666666667,2016.6666666666667,2016.4166666666667,2016.1666666666667,2015.9166666666667,2015.6666666666667,2015.4166666666667,2015.1666666666667,2014.9166666666667,2014.6666666666667,2014.4166666666667,2014.1666666666667,2013.9166666666667,2013.6666666666667,2013.4166666666667,2013.1666666666667,2012.9166666666667,2012.6666666666667,2012.4166666666667,2012.1666666666667,2011.9166666666667,2011.6666666666667,2011.4166666666667,2011.1666666666667,2010.9166666666667,2010.6666666666667,2010.4166666666667,2010.1666666666667,2009.9166666666667,2009.6666666666667,2009.4166666666667,2009.1666666666667,2008.9166666666667,2008.6666666666667,2008.4166666666667],"y":[253.5,308.5,284.5,390,384.5,415,384,388.5,394.5,385,337,321,362.5,344.5,329,314,292,352,368.5,307,288.5,337,352.5,347.5,331.5,303.5,343,305,309.5,336.5,340.5,334,319,302.5,321.5,335,309.5,278,282,292,307,263.5,292,302.5,261,264.5,279,265,248,268.5,265,238.5,241,220.5,223,229.5,217,177.5,173,236,210,204.5,176,136.5,155.5],"type":"scatter","mode":"lines","name":"jun24","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2024.1666666666667,2023.9166666666667,2023.6666666666667,2023.4166666666667,2023.1666666666667,2022.9166666666667,2022.6666666666667,2022.4166666666667,2022.1666666666667,2021.9166666666667,2021.6666666666667,2021.4166666666667,2021.1666666666667,2020.9166666666667,2020.6666666666667,2020.4166666666667,2020.1666666666667,2019.9166666666667,2019.6666666666667,2019.4166666666667,2019.1666666666667,2018.9166666666667,2018.6666666666667,2018.4166666666667,2018.1666666666667,2017.9166666666667,2017.6666666666667,2017.4166666666667,2017.1666666666667,2016.9166666666667,2016.6666666666667,2016.4166666666667,2016.1666666666667,2015.9166666666667,2015.6666666666667,2015.4166666666667,2015.1666666666667,2014.9166666666667,2014.6666666666667,2014.4166666666667,2014.1666666666667,2013.9166666666667,2013.6666666666667,2013.4166666666667,2013.1666666666667,2012.9166666666667,2012.6666666666667,2012.4166666666667,2012.1666666666667,2011.9166666666667,2011.6666666666667,2011.4166666666667,2011.1666666666667,2010.9166666666667,2010.6666666666667,2010.4166666666667,2010.1666666666667,2009.9166666666667,2009.6666666666667,2009.4166666666667,2009.1666666666667,2008.9166666666667,2008.6666666666667,2008.4166666666667],"y":[31.5,36.5,301,321.5,301.5,289,270.5,270.5,284.5,257.5,230,227,244.5,237,225.5,225,278.5,222,229.5,212,211.5,225,231.5,240.5,221,227.5,202,254.5,229.5,204,195,182.5,187,213,200,174,187.5,178,164,159.5,167.5,167,158.5,134,174,160.5,145,139,139,146,154.5,150.5,143,119.5,133,142,109,114.5,116,125.5,110.5,76.5,110,109.5],"type":"scatter","mode":"lines","name":"mar24","marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"line":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2022.6666666666667,2022.4166666666667,2022.1666666666667,2021.9166666666667,2021.6666666666667,2021.4166666666667,2021.1666666666667,2020.9166666666667,2020.6666666666667,2020.4166666666667,2020.1666666666667,2019.9166666666667,2019.6666666666667,2019.4166666666667,2019.1666666666667,2018.9166666666667,2018.6666666666667,2018.4166666666667,2018.1666666666667,2017.9166666666667,2017.6666666666667,2017.4166666666667,2017.1666666666667,2016.9166666666667,2016.6666666666667,2016.4166666666667,2016.1666666666667,2015.9166666666667,2015.6666666666667,2015.4166666666667,2015.1666666666667,2014.9166666666667,2014.6666666666667,2014.4166666666667,2014.1666666666667,2013.9166666666667,2013.6666666666667,2013.4166666666667,2013.1666666666667,2012.9166666666667,2012.6666666666667,2012.4166666666667,2012.1666666666667,2011.9166666666667,2011.6666666666667,2011.4166666666667,2011.1666666666667,2010.9166666666667,2010.6666666666667,2010.4166666666667,2010.1666666666667,2009.9166666666667,2009.6666666666667,2009.4166666666667,2009.1666666666667,2008.9166666666667,2008.6666666666667,2008.4166666666667],"y":[270.5,270.5,284.5,257.5,230,227,244.5,237,225.5,225,278.5,222,229.5,212,211.5,225,231.5,240.5,221,227.5,202,254.5,229.5,204,195,182.5,187,213,200,174,187.5,178,164,159.5,167.5,167,158.5,134,174,160.5,145,139,139,146,154.5,150.5,143,119.5,133,142,109,114.5,116,125.5,110.5,76.5,110,109.5],"type":"scatter","mode":"lines","name":"sep22","marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"line":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2023.6666666666667,2023.4166666666667,2023.1666666666667,2022.9166666666667,2022.6666666666667,2022.4166666666667,2022.1666666666667,2021.9166666666667,2021.6666666666667,2021.4166666666667,2021.1666666666667,2020.9166666666667,2020.6666666666667,2020.4166666666667,2020.1666666666667,2019.9166666666667,2019.6666666666667,2019.4166666666667,2019.1666666666667,2018.9166666666667,2018.6666666666667,2018.4166666666667,2018.1666666666667,2017.9166666666667,2017.6666666666667,2017.4166666666667,2017.1666666666667,2016.9166666666667,2016.6666666666667,2016.4166666666667,2016.1666666666667,2015.9166666666667,2015.6666666666667,2015.4166666666667,2015.1666666666667,2014.9166666666667,2014.6666666666667,2014.4166666666667,2014.1666666666667,2013.9166666666667,2013.6666666666667,2013.4166666666667,2013.1666666666667,2012.9166666666667,2012.6666666666667,2012.4166666666667,2012.1666666666667,2011.9166666666667,2011.6666666666667,2011.4166666666667,2011.1666666666667,2010.9166666666667,2010.6666666666667,2010.4166666666667,2010.1666666666667,2009.9166666666667,2009.6666666666667,2009.4166666666667,2009.1666666666667,2008.9166666666667,2008.6666666666667,2008.4166666666667],"y":[301,321.5,301.5,289,270.5,270.5,284.5,257.5,230,227,244.5,237,225.5,225,278.5,222,229.5,212,211.5,225,231.5,240.5,221,227.5,202,254.5,229.5,204,195,182.5,187,213,200,174,187.5,178,164,159.5,167.5,167,158.5,134,174,160.5,145,139,139,146,154.5,150.5,143,119.5,133,142,109,114.5,116,125.5,110.5,76.5,110,109.5],"type":"scatter","mode":"lines","name":"sep23","marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"line":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Looks like for South Eastern the numbers aren’t reliable in the March 2024 or the Dec 2023 or the Jun 2024 datasets. I think the June dataset is using Belfast numbers up until September 2024.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>SECount_jun24 <span class="ot">&lt;-</span> southEasternCount <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>hsc_trust) <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">!</span>date,</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"source"</span>, <span class="st">"other"</span>),</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_sep =</span> <span class="st">"_"</span>,</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"count"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>other) <span class="sc">%&gt;%</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.yearmon</span>(date)) <span class="sc">%&gt;%</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">==</span> <span class="st">'jun24'</span>)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>SECount_sep23 <span class="ot">&lt;-</span> southEasternCount <span class="sc">%&gt;%</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>hsc_trust) <span class="sc">%&gt;%</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">!</span>date,</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"source"</span>, <span class="st">"other"</span>),</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_sep =</span> <span class="st">"_"</span>,</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"count"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>other) <span class="sc">%&gt;%</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.yearmon</span>(date)) <span class="sc">%&gt;%</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">==</span> <span class="st">'sep23'</span>)</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>BCount <span class="ot">&lt;-</span> belfastCount <span class="sc">%&gt;%</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>hsc_trust) <span class="sc">%&gt;%</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">!</span>date,</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"source"</span>, <span class="st">"other"</span>),</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_sep =</span> <span class="st">"_"</span>,</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"count"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>other) <span class="sc">%&gt;%</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.yearmon</span>(date)) <span class="sc">%&gt;%</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">==</span> <span class="st">'mar24'</span>)</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">data =</span> SECount_jun24,</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> <span class="sc">~</span>date,</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> <span class="sc">~</span>count,</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>            <span class="at">split =</span> <span class="sc">~</span>source,</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>            <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#009cee'</span>),</span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>            <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>,</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>            <span class="at">name =</span> <span class="st">'South Eastern June 2024 dataset'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">data =</span> SECount_sep23,</span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> <span class="sc">~</span>date,</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> <span class="sc">~</span>count,</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>            <span class="at">split =</span> <span class="sc">~</span>source,</span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>            <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#00007e'</span>),</span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>            <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>,</span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>            <span class="at">name =</span> <span class="st">'South Eastern March 2023 dataset'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">data =</span> BCount,</span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> <span class="sc">~</span>date,</span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> <span class="sc">~</span>count,</span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>            <span class="at">split =</span> <span class="sc">~</span>source,           </span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>            <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#ff0087'</span>),</span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>            <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>,</span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>            <span class="at">name =</span> <span class="st">'Belfast March 2024 dataset'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">showlegend =</span> <span class="cn">TRUE</span>, <span class="co">#change to true if not using annotations</span></span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(</span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">"Count"</span>, <span class="co">#change to correct title</span></span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>      <span class="at">zeroline =</span> F,</span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>      <span class="at">showgrid =</span> F,</span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>      <span class="at">titlefont =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Poppins"</span>, <span class="at">color =</span> <span class="st">"#000000"</span>, <span class="at">size =</span> <span class="dv">18</span>),</span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>      <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Poppins"</span>, <span class="at">color=</span> <span class="st">"#000000"</span>, <span class="at">size=</span> <span class="dv">14</span>)),</span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(</span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">""</span>, <span class="co">#change to correct title</span></span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>      <span class="at">zeroline =</span> F,</span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a>      <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Poppins"</span>, <span class="at">color=</span> <span class="st">"#000000"</span>, <span class="at">size=</span> <span class="dv">14</span>),</span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a>      <span class="at">titlefont =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Poppins"</span>, <span class="at">color =</span> <span class="st">"#000000"</span>, <span class="at">size =</span> <span class="dv">18</span>)), </span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Monthly count for 62DW, Belfast vs South Eastern"</span>, </span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a>                 <span class="at">font =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Progress Medium"</span>, <span class="at">color =</span> <span class="st">"#000000"</span>,<span class="at">size =</span> <span class="dv">28</span>),</span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a>                 <span class="at">x =</span> <span class="fl">0.01</span>),</span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">margin =</span> <span class="fu">list</span>(<span class="at">t =</span> <span class="dv">75</span>) </span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-32f2f36d508b97fb36ee" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-32f2f36d508b97fb36ee">{"x":{"visdat":{"5a20730121de":["function () ","plotlyVisDat"],"5a2019874cfd":["function () ","data"],"5a202dbc7acc":["function () ","data"],"5a2063a11f47":["function () ","data"]},"cur_data":"5a2063a11f47","attrs":{"5a2019874cfd":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"split":{},"line":{"color":"#009cee"},"type":"scatter","mode":"lines","name":"South Eastern June 2024 dataset","inherit":true},"5a202dbc7acc":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"split":{},"line":{"color":"#00007e"},"type":"scatter","mode":"lines","name":"South Eastern March 2023 dataset","inherit":true},"5a2063a11f47":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"split":{},"line":{"color":"#ff0087"},"type":"scatter","mode":"lines","name":"Belfast March 2024 dataset","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":75,"r":10},"showlegend":true,"yaxis":{"domain":[0,1],"automargin":true,"title":"Count","zeroline":false,"showgrid":false,"titlefont":{"family":"Poppins","color":"#000000","size":18},"tickfont":{"family":"Poppins","color":"#000000","size":14}},"xaxis":{"domain":[0,1],"automargin":true,"title":"","zeroline":false,"tickfont":{"family":"Poppins","color":"#000000","size":14},"titlefont":{"family":"Poppins","color":"#000000","size":18}},"title":{"text":"Monthly count for 62DW, Belfast vs South Eastern","font":{"family":"Progress Medium","color":"#000000","size":28},"x":0.01},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2024.4166666666667,2024.1666666666667,2023.9166666666667,2023.6666666666667,2023.4166666666667,2023.1666666666667,2022.9166666666667,2022.6666666666667,2022.4166666666667,2022.1666666666667,2021.9166666666667,2021.6666666666667,2021.4166666666667,2021.1666666666667,2020.9166666666667,2020.6666666666667,2020.4166666666667,2020.1666666666667,2019.9166666666667,2019.6666666666667,2019.4166666666667,2019.1666666666667,2018.9166666666667,2018.6666666666667,2018.4166666666667,2018.1666666666667,2017.9166666666667,2017.6666666666667,2017.4166666666667,2017.1666666666667,2016.9166666666667,2016.6666666666667,2016.4166666666667,2016.1666666666667,2015.9166666666667,2015.6666666666667,2015.4166666666667,2015.1666666666667,2014.9166666666667,2014.6666666666667,2014.4166666666667,2014.1666666666667,2013.9166666666667,2013.6666666666667,2013.4166666666667,2013.1666666666667,2012.9166666666667,2012.6666666666667,2012.4166666666667,2012.1666666666667,2011.9166666666667,2011.6666666666667,2011.4166666666667,2011.1666666666667,2010.9166666666667,2010.6666666666667,2010.4166666666667,2010.1666666666667,2009.9166666666667,2009.6666666666667,2009.4166666666667,2009.1666666666667,2008.9166666666667,2008.6666666666667,2008.4166666666667],"y":[253.5,308.5,284.5,390,384.5,415,384,388.5,394.5,385,337,321,362.5,344.5,329,314,292,352,368.5,307,288.5,337,352.5,347.5,331.5,303.5,343,305,309.5,336.5,340.5,334,319,302.5,321.5,335,309.5,278,282,292,307,263.5,292,302.5,261,264.5,279,265,248,268.5,265,238.5,241,220.5,223,229.5,217,177.5,173,236,210,204.5,176,136.5,155.5],"line":{"color":"#009cee"},"type":"scatter","mode":"lines","name":"South Eastern June 2024 dataset","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2023.6666666666667,2023.4166666666667,2023.1666666666667,2022.9166666666667,2022.6666666666667,2022.4166666666667,2022.1666666666667,2021.9166666666667,2021.6666666666667,2021.4166666666667,2021.1666666666667,2020.9166666666667,2020.6666666666667,2020.4166666666667,2020.1666666666667,2019.9166666666667,2019.6666666666667,2019.4166666666667,2019.1666666666667,2018.9166666666667,2018.6666666666667,2018.4166666666667,2018.1666666666667,2017.9166666666667,2017.6666666666667,2017.4166666666667,2017.1666666666667,2016.9166666666667,2016.6666666666667,2016.4166666666667,2016.1666666666667,2015.9166666666667,2015.6666666666667,2015.4166666666667,2015.1666666666667,2014.9166666666667,2014.6666666666667,2014.4166666666667,2014.1666666666667,2013.9166666666667,2013.6666666666667,2013.4166666666667,2013.1666666666667,2012.9166666666667,2012.6666666666667,2012.4166666666667,2012.1666666666667,2011.9166666666667,2011.6666666666667,2011.4166666666667,2011.1666666666667,2010.9166666666667,2010.6666666666667,2010.4166666666667,2010.1666666666667,2009.9166666666667,2009.6666666666667,2009.4166666666667,2009.1666666666667,2008.9166666666667,2008.6666666666667,2008.4166666666667],"y":[301,321.5,301.5,289,270.5,270.5,284.5,257.5,230,227,244.5,237,225.5,225,278.5,222,229.5,212,211.5,225,231.5,240.5,221,227.5,202,254.5,229.5,204,195,182.5,187,213,200,174,187.5,178,164,159.5,167.5,167,158.5,134,174,160.5,145,139,139,146,154.5,150.5,143,119.5,133,142,109,114.5,116,125.5,110.5,76.5,110,109.5],"line":{"color":"#00007e"},"type":"scatter","mode":"lines","name":"South Eastern March 2023 dataset","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2024.1666666666667,2023.9166666666667,2023.6666666666667,2023.4166666666667,2023.1666666666667,2022.9166666666667,2022.6666666666667,2022.4166666666667,2022.1666666666667,2021.9166666666667,2021.6666666666667,2021.4166666666667,2021.1666666666667,2020.9166666666667,2020.6666666666667,2020.4166666666667,2020.1666666666667,2019.9166666666667,2019.6666666666667,2019.4166666666667,2019.1666666666667,2018.9166666666667,2018.6666666666667,2018.4166666666667,2018.1666666666667,2017.9166666666667,2017.6666666666667,2017.4166666666667,2017.1666666666667,2016.9166666666667,2016.6666666666667,2016.4166666666667,2016.1666666666667,2015.9166666666667,2015.6666666666667,2015.4166666666667,2015.1666666666667,2014.9166666666667,2014.6666666666667,2014.4166666666667,2014.1666666666667,2013.9166666666667,2013.6666666666667,2013.4166666666667,2013.1666666666667,2012.9166666666667,2012.6666666666667,2012.4166666666667,2012.1666666666667,2011.9166666666667,2011.6666666666667,2011.4166666666667,2011.1666666666667,2010.9166666666667,2010.6666666666667,2010.4166666666667,2010.1666666666667,2009.9166666666667,2009.6666666666667,2009.4166666666667,2009.1666666666667,2008.9166666666667,2008.6666666666667,2008.4166666666667],"y":[408.5,386,390,384.5,415,384,388.5,394.5,385,337,321,362.5,344.5,329,314,292,352,368.5,307,288.5,337,352.5,347.5,331.5,303.5,343,305,309.5,336.5,340.5,334,319,302.5,321.5,335,309.5,278,282,292,307,263.5,292,302.5,261,264.5,279,265,248,268.5,265,238.5,241,220.5,223,229.5,217,177.5,173,236,210,204.5,176,136.5,155.5],"line":{"color":"#ff0087"},"type":"scatter","mode":"lines","name":"Belfast March 2024 dataset","marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<!-- -->

</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb6" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "HSCT Data Differences"</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Matt Grant"</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co">    warning: false</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co">    highlight-style: nord</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co">    mainfont: Poppins</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="an">knitr:</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co">  opts_knit:</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="co">    root.dir: "~/cruk_ci_cross_pathway/CWT/Northern Ireland/Data discrepancies/"</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="in">```{r setup}</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Libraries used "</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(zoo)</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: Data used</span></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>mar24 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Northern Ireland Cancer Waiting Times-JAN-MAR-24.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">date =</span> quarter)</span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>jun24 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Northern Ireland Cancer Waiting Times-APR-JUN-24.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">date =</span> quarter)</span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>dec23 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Northern Ireland Cancer Waiting Times-OCT-DEC-23.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">date =</span> quarter)</span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>sep23 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Northern Ireland Cancer Waiting Times-JUL-SEP-23.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">date =</span> quarter)</span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>sep22 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Northern Ireland Cancer Waiting Times-JUL-SEP-22.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">date =</span> quarter)</span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a>jun24Count <span class="ot">&lt;-</span> jun24 <span class="sc">%&gt;%</span> </span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date, hsc_trust, total_number_treated) </span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a>mar24Count <span class="ot">&lt;-</span> mar24 <span class="sc">%&gt;%</span> </span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date, hsc_trust, total_number_treated) </span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a>dec23Count <span class="ot">&lt;-</span> dec23 <span class="sc">%&gt;%</span> </span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date, hsc_trust, total_number_treated) </span>
<span id="cb6-61"><a href="#cb6-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-62"><a href="#cb6-62" aria-hidden="true" tabindex="-1"></a>sep23Count <span class="ot">&lt;-</span> sep23 <span class="sc">%&gt;%</span> </span>
<span id="cb6-63"><a href="#cb6-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date, hsc_trust, total_number_treated) </span>
<span id="cb6-64"><a href="#cb6-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-65"><a href="#cb6-65" aria-hidden="true" tabindex="-1"></a>sep22Count <span class="ot">&lt;-</span> sep22 <span class="sc">%&gt;%</span> </span>
<span id="cb6-66"><a href="#cb6-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date, hsc_trust, total_number_treated) </span>
<span id="cb6-67"><a href="#cb6-67" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb6-68"><a href="#cb6-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-69"><a href="#cb6-69" aria-hidden="true" tabindex="-1"></a>While cleaning some data for the local stats dashboard, I noticed that recent South Eastern numbers were the same for Belfast and South Eastern HSCT prior to September 2023. In this script I'm going to explore the numbers and see what is/isn't likely to be reliable.</span>
<span id="cb6-70"><a href="#cb6-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-71"><a href="#cb6-71" aria-hidden="true" tabindex="-1"></a><span class="fu">## Count</span></span>
<span id="cb6-72"><a href="#cb6-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-73"><a href="#cb6-73" aria-hidden="true" tabindex="-1"></a><span class="fu">### Belfast</span></span>
<span id="cb6-74"><a href="#cb6-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-77"><a href="#cb6-77" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb6-78"><a href="#cb6-78" aria-hidden="true" tabindex="-1"></a>belfastCount <span class="ot">&lt;-</span> </span>
<span id="cb6-79"><a href="#cb6-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(mar24Count <span class="sc">%&gt;%</span> </span>
<span id="cb6-80"><a href="#cb6-80" aria-hidden="true" tabindex="-1"></a>              <span class="fu">filter</span>(hsc_trust <span class="sc">==</span> <span class="st">"Belfast"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-81"><a href="#cb6-81" aria-hidden="true" tabindex="-1"></a>              <span class="fu">rename</span>(<span class="at">mar24_count =</span> total_number_treated),</span>
<span id="cb6-82"><a href="#cb6-82" aria-hidden="true" tabindex="-1"></a>            dec23Count <span class="sc">%&gt;%</span> </span>
<span id="cb6-83"><a href="#cb6-83" aria-hidden="true" tabindex="-1"></a>              <span class="fu">filter</span>(hsc_trust <span class="sc">==</span> <span class="st">"Belfast"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-84"><a href="#cb6-84" aria-hidden="true" tabindex="-1"></a>              <span class="fu">rename</span>(<span class="at">dec23_count =</span> total_number_treated),</span>
<span id="cb6-85"><a href="#cb6-85" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">'date'</span>, <span class="st">'hsc_trust'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb6-86"><a href="#cb6-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(sep23Count <span class="sc">%&gt;%</span> <span class="fu">filter</span>(hsc_trust <span class="sc">==</span> <span class="st">"Belfast"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-87"><a href="#cb6-87" aria-hidden="true" tabindex="-1"></a>              <span class="fu">rename</span>(<span class="at">sep23_count =</span> total_number_treated), </span>
<span id="cb6-88"><a href="#cb6-88" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">'date'</span>, <span class="st">'hsc_trust'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb6-89"><a href="#cb6-89" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(sep22Count <span class="sc">%&gt;%</span> <span class="fu">filter</span>(hsc_trust <span class="sc">==</span> <span class="st">"Belfast"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-90"><a href="#cb6-90" aria-hidden="true" tabindex="-1"></a>              <span class="fu">rename</span>(<span class="at">sep22_count =</span> total_number_treated), </span>
<span id="cb6-91"><a href="#cb6-91" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">'date'</span>, <span class="st">'hsc_trust'</span>)) </span>
<span id="cb6-92"><a href="#cb6-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-93"><a href="#cb6-93" aria-hidden="true" tabindex="-1"></a>belfastCount <span class="sc">%&gt;%</span></span>
<span id="cb6-94"><a href="#cb6-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>hsc_trust) <span class="sc">%&gt;%</span></span>
<span id="cb6-95"><a href="#cb6-95" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">!</span>date,</span>
<span id="cb6-96"><a href="#cb6-96" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"source"</span>, <span class="st">"other"</span>),</span>
<span id="cb6-97"><a href="#cb6-97" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_sep =</span> <span class="st">"_"</span>,</span>
<span id="cb6-98"><a href="#cb6-98" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"count"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-99"><a href="#cb6-99" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>other) <span class="sc">%&gt;%</span></span>
<span id="cb6-100"><a href="#cb6-100" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.yearmon</span>(date)) <span class="sc">%&gt;%</span></span>
<span id="cb6-101"><a href="#cb6-101" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-102"><a href="#cb6-102" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>date,</span>
<span id="cb6-103"><a href="#cb6-103" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> <span class="sc">~</span>count,</span>
<span id="cb6-104"><a href="#cb6-104" aria-hidden="true" tabindex="-1"></a>            <span class="at">split =</span> <span class="sc">~</span>source,</span>
<span id="cb6-105"><a href="#cb6-105" aria-hidden="true" tabindex="-1"></a>             <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-106"><a href="#cb6-106" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb6-107"><a href="#cb6-107" aria-hidden="true" tabindex="-1"></a>    <span class="at">showlegend =</span> <span class="cn">TRUE</span>, <span class="co">#change to true if not using annotations</span></span>
<span id="cb6-108"><a href="#cb6-108" aria-hidden="true" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(</span>
<span id="cb6-109"><a href="#cb6-109" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">"Count"</span>, <span class="co">#change to correct title</span></span>
<span id="cb6-110"><a href="#cb6-110" aria-hidden="true" tabindex="-1"></a>      <span class="at">zeroline =</span> F,</span>
<span id="cb6-111"><a href="#cb6-111" aria-hidden="true" tabindex="-1"></a>      <span class="at">showgrid =</span> F,</span>
<span id="cb6-112"><a href="#cb6-112" aria-hidden="true" tabindex="-1"></a>      <span class="at">titlefont =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Poppins"</span>, <span class="at">color =</span> <span class="st">"#000000"</span>, <span class="at">size =</span> <span class="dv">18</span>),</span>
<span id="cb6-113"><a href="#cb6-113" aria-hidden="true" tabindex="-1"></a>      <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Poppins"</span>, <span class="at">color=</span> <span class="st">"#000000"</span>, <span class="at">size=</span> <span class="dv">14</span>)),</span>
<span id="cb6-114"><a href="#cb6-114" aria-hidden="true" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(</span>
<span id="cb6-115"><a href="#cb6-115" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">""</span>, <span class="co">#change to correct title</span></span>
<span id="cb6-116"><a href="#cb6-116" aria-hidden="true" tabindex="-1"></a>      <span class="at">zeroline =</span> F,</span>
<span id="cb6-117"><a href="#cb6-117" aria-hidden="true" tabindex="-1"></a>      <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Poppins"</span>, <span class="at">color=</span> <span class="st">"#000000"</span>, <span class="at">size=</span> <span class="dv">14</span>),</span>
<span id="cb6-118"><a href="#cb6-118" aria-hidden="true" tabindex="-1"></a>      <span class="at">titlefont =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Poppins"</span>, <span class="at">color =</span> <span class="st">"#000000"</span>, <span class="at">size =</span> <span class="dv">18</span>)), <span class="co">#set these values to your x axis values</span></span>
<span id="cb6-119"><a href="#cb6-119" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Monthly count for 62DW in Belfast"</span>, <span class="co">#change to correct title</span></span>
<span id="cb6-120"><a href="#cb6-120" aria-hidden="true" tabindex="-1"></a>                 <span class="at">font =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Progress Medium"</span>, <span class="at">color =</span> <span class="st">"#000000"</span>,<span class="at">size =</span> <span class="dv">28</span>),</span>
<span id="cb6-121"><a href="#cb6-121" aria-hidden="true" tabindex="-1"></a>                 <span class="at">x =</span> <span class="fl">0.01</span>),</span>
<span id="cb6-122"><a href="#cb6-122" aria-hidden="true" tabindex="-1"></a>    <span class="at">margin =</span> <span class="fu">list</span>(<span class="at">t =</span> <span class="dv">75</span>) </span>
<span id="cb6-123"><a href="#cb6-123" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-124"><a href="#cb6-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-125"><a href="#cb6-125" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb6-126"><a href="#cb6-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-127"><a href="#cb6-127" aria-hidden="true" tabindex="-1"></a>So for some reason the December dataset for Belfast is not reliable.</span>
<span id="cb6-128"><a href="#cb6-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-129"><a href="#cb6-129" aria-hidden="true" tabindex="-1"></a><span class="fu">### South Eastern</span></span>
<span id="cb6-130"><a href="#cb6-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-133"><a href="#cb6-133" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb6-134"><a href="#cb6-134" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb6-135"><a href="#cb6-135" aria-hidden="true" tabindex="-1"></a>southEasternCount <span class="ot">&lt;-</span> </span>
<span id="cb6-136"><a href="#cb6-136" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(jun24Count <span class="sc">%&gt;%</span> </span>
<span id="cb6-137"><a href="#cb6-137" aria-hidden="true" tabindex="-1"></a>              <span class="fu">filter</span>(hsc_trust <span class="sc">==</span> <span class="st">"South Eastern"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-138"><a href="#cb6-138" aria-hidden="true" tabindex="-1"></a>              <span class="fu">rename</span>(<span class="at">jun24_count =</span> total_number_treated),</span>
<span id="cb6-139"><a href="#cb6-139" aria-hidden="true" tabindex="-1"></a>            mar24Count <span class="sc">%&gt;%</span> </span>
<span id="cb6-140"><a href="#cb6-140" aria-hidden="true" tabindex="-1"></a>              <span class="fu">filter</span>(hsc_trust <span class="sc">==</span> <span class="st">"South Eastern"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-141"><a href="#cb6-141" aria-hidden="true" tabindex="-1"></a>              <span class="fu">rename</span>(<span class="at">mar24_count =</span> total_number_treated),</span>
<span id="cb6-142"><a href="#cb6-142" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">'date'</span>, <span class="st">'hsc_trust'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb6-143"><a href="#cb6-143" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(dec23Count <span class="sc">%&gt;%</span> </span>
<span id="cb6-144"><a href="#cb6-144" aria-hidden="true" tabindex="-1"></a>              <span class="fu">filter</span>(hsc_trust <span class="sc">==</span> <span class="st">"South Eastern"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-145"><a href="#cb6-145" aria-hidden="true" tabindex="-1"></a>              <span class="fu">rename</span>(<span class="at">dec23_count =</span> total_number_treated)) <span class="sc">%&gt;%</span></span>
<span id="cb6-146"><a href="#cb6-146" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(sep23Count <span class="sc">%&gt;%</span> </span>
<span id="cb6-147"><a href="#cb6-147" aria-hidden="true" tabindex="-1"></a>              <span class="fu">filter</span>(hsc_trust <span class="sc">==</span> <span class="st">"South Eastern"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-148"><a href="#cb6-148" aria-hidden="true" tabindex="-1"></a>              <span class="fu">rename</span>(<span class="at">sep23_count =</span> total_number_treated), </span>
<span id="cb6-149"><a href="#cb6-149" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">'date'</span>, <span class="st">'hsc_trust'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb6-150"><a href="#cb6-150" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(sep22Count <span class="sc">%&gt;%</span> </span>
<span id="cb6-151"><a href="#cb6-151" aria-hidden="true" tabindex="-1"></a>              <span class="fu">filter</span>(hsc_trust <span class="sc">==</span> <span class="st">"South Eastern"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-152"><a href="#cb6-152" aria-hidden="true" tabindex="-1"></a>              <span class="fu">rename</span>(<span class="at">sep22_count =</span> total_number_treated), </span>
<span id="cb6-153"><a href="#cb6-153" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">'date'</span>, <span class="st">'hsc_trust'</span>)) </span>
<span id="cb6-154"><a href="#cb6-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-155"><a href="#cb6-155" aria-hidden="true" tabindex="-1"></a>southEasternCount <span class="sc">%&gt;%</span></span>
<span id="cb6-156"><a href="#cb6-156" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>hsc_trust) <span class="sc">%&gt;%</span></span>
<span id="cb6-157"><a href="#cb6-157" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">!</span>date,</span>
<span id="cb6-158"><a href="#cb6-158" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"source"</span>, <span class="st">"other"</span>),</span>
<span id="cb6-159"><a href="#cb6-159" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_sep =</span> <span class="st">"_"</span>,</span>
<span id="cb6-160"><a href="#cb6-160" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"count"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-161"><a href="#cb6-161" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>other) <span class="sc">%&gt;%</span></span>
<span id="cb6-162"><a href="#cb6-162" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.yearmon</span>(date)) <span class="sc">%&gt;%</span></span>
<span id="cb6-163"><a href="#cb6-163" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-164"><a href="#cb6-164" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>date,</span>
<span id="cb6-165"><a href="#cb6-165" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> <span class="sc">~</span>count,</span>
<span id="cb6-166"><a href="#cb6-166" aria-hidden="true" tabindex="-1"></a>            <span class="at">split =</span> <span class="sc">~</span>source,</span>
<span id="cb6-167"><a href="#cb6-167" aria-hidden="true" tabindex="-1"></a>             <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-168"><a href="#cb6-168" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb6-169"><a href="#cb6-169" aria-hidden="true" tabindex="-1"></a>    <span class="at">showlegend =</span> <span class="cn">TRUE</span>, <span class="co">#change to true if not using annotations</span></span>
<span id="cb6-170"><a href="#cb6-170" aria-hidden="true" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(</span>
<span id="cb6-171"><a href="#cb6-171" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">"Count"</span>, <span class="co">#change to correct title</span></span>
<span id="cb6-172"><a href="#cb6-172" aria-hidden="true" tabindex="-1"></a>      <span class="at">zeroline =</span> F,</span>
<span id="cb6-173"><a href="#cb6-173" aria-hidden="true" tabindex="-1"></a>      <span class="at">showgrid =</span> F,</span>
<span id="cb6-174"><a href="#cb6-174" aria-hidden="true" tabindex="-1"></a>      <span class="at">titlefont =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Poppins"</span>, <span class="at">color =</span> <span class="st">"#000000"</span>, <span class="at">size =</span> <span class="dv">18</span>),</span>
<span id="cb6-175"><a href="#cb6-175" aria-hidden="true" tabindex="-1"></a>      <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Poppins"</span>, <span class="at">color=</span> <span class="st">"#000000"</span>, <span class="at">size=</span> <span class="dv">14</span>)),</span>
<span id="cb6-176"><a href="#cb6-176" aria-hidden="true" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(</span>
<span id="cb6-177"><a href="#cb6-177" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">""</span>, <span class="co">#change to correct title</span></span>
<span id="cb6-178"><a href="#cb6-178" aria-hidden="true" tabindex="-1"></a>      <span class="at">zeroline =</span> F,</span>
<span id="cb6-179"><a href="#cb6-179" aria-hidden="true" tabindex="-1"></a>      <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Poppins"</span>, <span class="at">color=</span> <span class="st">"#000000"</span>, <span class="at">size=</span> <span class="dv">14</span>),</span>
<span id="cb6-180"><a href="#cb6-180" aria-hidden="true" tabindex="-1"></a>      <span class="at">titlefont =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Poppins"</span>, <span class="at">color =</span> <span class="st">"#000000"</span>, <span class="at">size =</span> <span class="dv">18</span>)), <span class="co">#set these values to your x axis values</span></span>
<span id="cb6-181"><a href="#cb6-181" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Monthly count for 62DW in South Eastern"</span>, <span class="co">#change to correct title</span></span>
<span id="cb6-182"><a href="#cb6-182" aria-hidden="true" tabindex="-1"></a>                 <span class="at">font =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Progress Medium"</span>, <span class="at">color =</span> <span class="st">"#000000"</span>,<span class="at">size =</span> <span class="dv">28</span>),</span>
<span id="cb6-183"><a href="#cb6-183" aria-hidden="true" tabindex="-1"></a>                 <span class="at">x =</span> <span class="fl">0.01</span>),</span>
<span id="cb6-184"><a href="#cb6-184" aria-hidden="true" tabindex="-1"></a>    <span class="at">margin =</span> <span class="fu">list</span>(<span class="at">t =</span> <span class="dv">75</span>) </span>
<span id="cb6-185"><a href="#cb6-185" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-186"><a href="#cb6-186" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb6-187"><a href="#cb6-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-188"><a href="#cb6-188" aria-hidden="true" tabindex="-1"></a>Looks like for South Eastern the numbers aren't reliable in the March 2024 or the Dec 2023 or the Jun 2024 datasets. I think the June dataset is using Belfast numbers up until September 2024.</span>
<span id="cb6-189"><a href="#cb6-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-192"><a href="#cb6-192" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb6-193"><a href="#cb6-193" aria-hidden="true" tabindex="-1"></a>SECount_jun24 <span class="ot">&lt;-</span> southEasternCount <span class="sc">%&gt;%</span></span>
<span id="cb6-194"><a href="#cb6-194" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>hsc_trust) <span class="sc">%&gt;%</span></span>
<span id="cb6-195"><a href="#cb6-195" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">!</span>date,</span>
<span id="cb6-196"><a href="#cb6-196" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"source"</span>, <span class="st">"other"</span>),</span>
<span id="cb6-197"><a href="#cb6-197" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_sep =</span> <span class="st">"_"</span>,</span>
<span id="cb6-198"><a href="#cb6-198" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"count"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-199"><a href="#cb6-199" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>other) <span class="sc">%&gt;%</span></span>
<span id="cb6-200"><a href="#cb6-200" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.yearmon</span>(date)) <span class="sc">%&gt;%</span></span>
<span id="cb6-201"><a href="#cb6-201" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">==</span> <span class="st">'jun24'</span>)</span>
<span id="cb6-202"><a href="#cb6-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-203"><a href="#cb6-203" aria-hidden="true" tabindex="-1"></a>SECount_sep23 <span class="ot">&lt;-</span> southEasternCount <span class="sc">%&gt;%</span></span>
<span id="cb6-204"><a href="#cb6-204" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>hsc_trust) <span class="sc">%&gt;%</span></span>
<span id="cb6-205"><a href="#cb6-205" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">!</span>date,</span>
<span id="cb6-206"><a href="#cb6-206" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"source"</span>, <span class="st">"other"</span>),</span>
<span id="cb6-207"><a href="#cb6-207" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_sep =</span> <span class="st">"_"</span>,</span>
<span id="cb6-208"><a href="#cb6-208" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"count"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-209"><a href="#cb6-209" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>other) <span class="sc">%&gt;%</span></span>
<span id="cb6-210"><a href="#cb6-210" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.yearmon</span>(date)) <span class="sc">%&gt;%</span></span>
<span id="cb6-211"><a href="#cb6-211" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">==</span> <span class="st">'sep23'</span>)</span>
<span id="cb6-212"><a href="#cb6-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-213"><a href="#cb6-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-214"><a href="#cb6-214" aria-hidden="true" tabindex="-1"></a>BCount <span class="ot">&lt;-</span> belfastCount <span class="sc">%&gt;%</span></span>
<span id="cb6-215"><a href="#cb6-215" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>hsc_trust) <span class="sc">%&gt;%</span></span>
<span id="cb6-216"><a href="#cb6-216" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">!</span>date,</span>
<span id="cb6-217"><a href="#cb6-217" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"source"</span>, <span class="st">"other"</span>),</span>
<span id="cb6-218"><a href="#cb6-218" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_sep =</span> <span class="st">"_"</span>,</span>
<span id="cb6-219"><a href="#cb6-219" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"count"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-220"><a href="#cb6-220" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>other) <span class="sc">%&gt;%</span></span>
<span id="cb6-221"><a href="#cb6-221" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.yearmon</span>(date)) <span class="sc">%&gt;%</span></span>
<span id="cb6-222"><a href="#cb6-222" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">==</span> <span class="st">'mar24'</span>)</span>
<span id="cb6-223"><a href="#cb6-223" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-224"><a href="#cb6-224" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">data =</span> SECount_jun24,</span>
<span id="cb6-225"><a href="#cb6-225" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> <span class="sc">~</span>date,</span>
<span id="cb6-226"><a href="#cb6-226" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> <span class="sc">~</span>count,</span>
<span id="cb6-227"><a href="#cb6-227" aria-hidden="true" tabindex="-1"></a>            <span class="at">split =</span> <span class="sc">~</span>source,</span>
<span id="cb6-228"><a href="#cb6-228" aria-hidden="true" tabindex="-1"></a>            <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#009cee'</span>),</span>
<span id="cb6-229"><a href="#cb6-229" aria-hidden="true" tabindex="-1"></a>            <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>,</span>
<span id="cb6-230"><a href="#cb6-230" aria-hidden="true" tabindex="-1"></a>            <span class="at">name =</span> <span class="st">'South Eastern June 2024 dataset'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-231"><a href="#cb6-231" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">data =</span> SECount_sep23,</span>
<span id="cb6-232"><a href="#cb6-232" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> <span class="sc">~</span>date,</span>
<span id="cb6-233"><a href="#cb6-233" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> <span class="sc">~</span>count,</span>
<span id="cb6-234"><a href="#cb6-234" aria-hidden="true" tabindex="-1"></a>            <span class="at">split =</span> <span class="sc">~</span>source,</span>
<span id="cb6-235"><a href="#cb6-235" aria-hidden="true" tabindex="-1"></a>            <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#00007e'</span>),</span>
<span id="cb6-236"><a href="#cb6-236" aria-hidden="true" tabindex="-1"></a>            <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>,</span>
<span id="cb6-237"><a href="#cb6-237" aria-hidden="true" tabindex="-1"></a>            <span class="at">name =</span> <span class="st">'South Eastern March 2023 dataset'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-238"><a href="#cb6-238" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">data =</span> BCount,</span>
<span id="cb6-239"><a href="#cb6-239" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> <span class="sc">~</span>date,</span>
<span id="cb6-240"><a href="#cb6-240" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> <span class="sc">~</span>count,</span>
<span id="cb6-241"><a href="#cb6-241" aria-hidden="true" tabindex="-1"></a>            <span class="at">split =</span> <span class="sc">~</span>source,           </span>
<span id="cb6-242"><a href="#cb6-242" aria-hidden="true" tabindex="-1"></a>            <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#ff0087'</span>),</span>
<span id="cb6-243"><a href="#cb6-243" aria-hidden="true" tabindex="-1"></a>            <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>,</span>
<span id="cb6-244"><a href="#cb6-244" aria-hidden="true" tabindex="-1"></a>            <span class="at">name =</span> <span class="st">'Belfast March 2024 dataset'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-245"><a href="#cb6-245" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb6-246"><a href="#cb6-246" aria-hidden="true" tabindex="-1"></a>    <span class="at">showlegend =</span> <span class="cn">TRUE</span>, <span class="co">#change to true if not using annotations</span></span>
<span id="cb6-247"><a href="#cb6-247" aria-hidden="true" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(</span>
<span id="cb6-248"><a href="#cb6-248" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">"Count"</span>, <span class="co">#change to correct title</span></span>
<span id="cb6-249"><a href="#cb6-249" aria-hidden="true" tabindex="-1"></a>      <span class="at">zeroline =</span> F,</span>
<span id="cb6-250"><a href="#cb6-250" aria-hidden="true" tabindex="-1"></a>      <span class="at">showgrid =</span> F,</span>
<span id="cb6-251"><a href="#cb6-251" aria-hidden="true" tabindex="-1"></a>      <span class="at">titlefont =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Poppins"</span>, <span class="at">color =</span> <span class="st">"#000000"</span>, <span class="at">size =</span> <span class="dv">18</span>),</span>
<span id="cb6-252"><a href="#cb6-252" aria-hidden="true" tabindex="-1"></a>      <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Poppins"</span>, <span class="at">color=</span> <span class="st">"#000000"</span>, <span class="at">size=</span> <span class="dv">14</span>)),</span>
<span id="cb6-253"><a href="#cb6-253" aria-hidden="true" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(</span>
<span id="cb6-254"><a href="#cb6-254" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">""</span>, <span class="co">#change to correct title</span></span>
<span id="cb6-255"><a href="#cb6-255" aria-hidden="true" tabindex="-1"></a>      <span class="at">zeroline =</span> F,</span>
<span id="cb6-256"><a href="#cb6-256" aria-hidden="true" tabindex="-1"></a>      <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Poppins"</span>, <span class="at">color=</span> <span class="st">"#000000"</span>, <span class="at">size=</span> <span class="dv">14</span>),</span>
<span id="cb6-257"><a href="#cb6-257" aria-hidden="true" tabindex="-1"></a>      <span class="at">titlefont =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Poppins"</span>, <span class="at">color =</span> <span class="st">"#000000"</span>, <span class="at">size =</span> <span class="dv">18</span>)), </span>
<span id="cb6-258"><a href="#cb6-258" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Monthly count for 62DW, Belfast vs South Eastern"</span>, </span>
<span id="cb6-259"><a href="#cb6-259" aria-hidden="true" tabindex="-1"></a>                 <span class="at">font =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Progress Medium"</span>, <span class="at">color =</span> <span class="st">"#000000"</span>,<span class="at">size =</span> <span class="dv">28</span>),</span>
<span id="cb6-260"><a href="#cb6-260" aria-hidden="true" tabindex="-1"></a>                 <span class="at">x =</span> <span class="fl">0.01</span>),</span>
<span id="cb6-261"><a href="#cb6-261" aria-hidden="true" tabindex="-1"></a>    <span class="at">margin =</span> <span class="fu">list</span>(<span class="at">t =</span> <span class="dv">75</span>) </span>
<span id="cb6-262"><a href="#cb6-262" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-263"><a href="#cb6-263" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>